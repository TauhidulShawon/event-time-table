import{Ca as f,Da as r,Ea as s,Fa as C,Ga as x,Ha as g,Ia as c,Ja as m,Ka as b,L as _,La as u,Ma as v,N as A,Na as V,Oa as S,Pa as O,Qa as I,U as w,V as E,a as D,b as M,bb as P,cb as N,db as k,ka as a,ua as F,va as y,xa as h}from"./chunk-7HJAW5RF.js";var G={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Se=M(D({},G),{"[class.ng-submitted]":"isSubmitted"});var H=new A("",{providedIn:"root",factory:()=>T}),T="always";var B=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=y({type:n});static \u0275inj=_({})}return n})();var R=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:H,useValue:e.callSetDisabledState??T}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=y({type:n});static \u0275inj=_({imports:[B]})}return n})();function U(n,d){if(n&1){let e=x();r(0,"div",17),g("click",function(){let i=w(e).index,o=c();return E(o.selectTab(i))}),r(1,"div",18),u(2),s(),r(3,"div",19),u(4),O(5,"date"),s()()}if(n&2){let e=d.$implicit,t=d.index,i=c();b("active",i.selectedTabIndex===t),a(2),v(i.getDayName(e)),a(2),V("Date: ",I(5,4,e))}}function W(n,d){if(n&1&&(r(0,"div",20)(1,"span",21),u(2),s()()),n&2){let e=d.$implicit,t=c();m("height",t.slotHeight,"px"),a(2),v(e.time)}}function L(n,d){if(n&1&&C(0,"div",29),n&2){let e=c(2);m("height",e.slotHeight,"px")}}function $(n,d){if(n&1&&(r(0,"div",30)(1,"div",31),u(2),s(),r(3,"div",32),u(4),s()()),n&2){let e=d.$implicit,t=c(2);m("top",t.getEventPosition(e).top,"px")("height",t.getEventPosition(e).height,"px"),a(2),S("",e.startTime," - ",e.endTime),a(2),v(e.title)}}function z(n,d){if(n&1&&(r(0,"div",22)(1,"div",23),u(2),s(),r(3,"div",24)(4,"div",25),h(5,L,1,2,"div",26),s(),r(6,"div",27),h(7,$,5,7,"div",28),s()()()),n&2){let e=d.$implicit,t=c();a(),m("background-color",e.color),a(),V(" ",e.name," "),a(3),f("ngForOf",t.timeSlots),a(2),f("ngForOf",t.getEventsForDateAndVenue(t.weekDays[t.selectedTabIndex],e.id))}}var Te=(()=>{class n{currentWeekStart=new Date;weekDays=[];venues=[];events=[];timeSlots=[];selectedTabIndex=0;minPerSlots=15;slotHeight=60;startHour=9;endHour=11;ngOnInit(){localStorage.clear(),this.initializeWeek(),this.generateTimeSlots(),this.loadVenues(),this.loadEvents()}initializeWeek(){let e=new Date(new Date(this.currentWeekStart));console.log(e);let t=e.getDay(),i=new Date(e);i.setDate(e.getDate()-(t===0?6:t-1)),i.setHours(0,0,0,0),this.currentWeekStart=i,this.weekDays=[];for(let o=0;o<7;o++){let l=new Date(i);l.setDate(i.getDate()+o),this.weekDays.push(l)}console.log(this.weekDays)}generateTimeSlots(){this.timeSlots=[];let e=this.startHour*60,t=this.endHour*60;for(let i=e;i<t;i+=this.minPerSlots){let o=Math.floor(i/60),l=i%60,p=`${o.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`;console.log(p),this.timeSlots.push({time:p,displayTime:l===0?`${o}:${l.toString().padStart(2,"0")}`:""})}}loadVenues(){this.venues=[{id:"venue1",name:"Venue 1",color:"gray"},{id:"venue2",name:"Venue 2",color:"gray"},{id:"venue3",name:"Venue 3",color:"gray"},{id:"venue4",name:"Venue 4",color:"gray"},{id:"venue5",name:"Venue 5",color:"gray"},{id:"venue6",name:"Venue 6",color:"gray"}],this.saveVenues()}loadEvents(){this.events=[{id:"1",title:"Event 1",venueId:"venue1",startTime:"09:00",endTime:"09:30",date:this.formatDate(this.weekDays[0]),duration:30},{id:"6",title:"Event 2",venueId:"venue1",startTime:"10:00",endTime:"10:30",date:this.formatDate(this.weekDays[0]),duration:30},{id:"7",title:"Event 2",venueId:"venue2",startTime:"10:00",endTime:"10:30",date:this.formatDate(this.weekDays[0]),duration:30},{id:"11",title:"Event 3",venueId:"venue3",startTime:"09:45",endTime:"10:45",date:this.formatDate(this.weekDays[0]),duration:60},{id:"2",title:"Event 3",venueId:"venue2",startTime:"09:30",endTime:"10:00",date:this.formatDate(this.weekDays[1]),duration:30},{id:"3",title:"Event 4",venueId:"venue2",startTime:"10:00",endTime:"10:30",date:this.formatDate(this.weekDays[2]),duration:30},{id:"4",title:"Event 5",venueId:"venue3",startTime:"09:45",endTime:"11:00",date:this.formatDate(this.weekDays[4]),duration:75}],this.saveEvents()}saveVenues(){localStorage.setItem("venues",JSON.stringify(this.venues))}saveEvents(){localStorage.setItem("events",JSON.stringify(this.events))}formatDate(e){return e.toISOString().split("T")[0]}getDayName(e){return e.toLocaleDateString("en-US",{weekday:"long"})}previousWeek(){let e=new Date(this.currentWeekStart);e.setDate(e.getDate()-7),this.currentWeekStart=e,console.log("=== CURRENT WEEK ==== "+this.currentWeekStart),this.initializeWeek()}nextWeek(){let e=new Date(this.currentWeekStart);e.setDate(e.getDate()+7),this.currentWeekStart=e,this.initializeWeek()}selectTab(e){this.selectedTabIndex=e}getEventsForDateAndVenue(e,t){let i=this.formatDate(e);return this.events.filter(o=>o.date===i&&o.venueId===t)}getEventPosition(e){let[t,i]=e.startTime.split(":").map(Number),l=(t*60+i-this.startHour*60)/this.minPerSlots*this.slotHeight,p=e.duration/this.minPerSlots*this.slotHeight;return{top:l,height:p}}onHorizontalScroll(e){let t=e.target.scrollLeft}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-event-time-table"]],decls:22,vars:3,consts:[[1,"event-timetable-container"],[1,"header"],[1,"title",2,"text-align","center"],[1,"week-tabs"],[1,"nav-arrow","left",3,"click"],[1,"tabs-container"],[1,"tabs-scroll"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"nav-arrow","right",3,"click"],[1,"timetable-wrapper"],[1,"timetable-container",3,"scroll"],[1,"time-column","sticky"],[1,"time-header"],[1,"time-slots"],["class","time-slot",3,"height",4,"ngFor","ngForOf"],[1,"venues-grid"],["class","venue-column",4,"ngFor","ngForOf"],[1,"tab",3,"click"],[1,"tab-day"],[1,"tab-date"],[1,"time-slot"],[1,"time-label"],[1,"venue-column"],[1,"venue-header-cell"],[1,"event-area"],[1,"grid-lines"],["class","grid-line",3,"height",4,"ngFor","ngForOf"],[1,"events-container"],["class","event-card","style","display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100px;",3,"top","height",4,"ngFor","ngForOf"],[1,"grid-line"],[1,"event-card",2,"display","flex","flex-direction","column","justify-content","center","align-items","center","height","100px"],[1,"event-time"],[1,"event-title"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Event Time Table"),s()(),r(4,"div",3)(5,"button",4),g("click",function(){return i.previousWeek()}),r(6,"span"),u(7," < "),s()(),r(8,"div",5)(9,"div",6),h(10,U,6,6,"div",7),s()(),r(11,"button",8),g("click",function(){return i.nextWeek()}),r(12,"span"),u(13," > "),s()()(),r(14,"div",9)(15,"div",10),g("scroll",function(l){return i.onHorizontalScroll(l)}),r(16,"div",11),C(17,"div",12),r(18,"div",13),h(19,W,3,3,"div",14),s()(),r(20,"div",15),h(21,z,8,5,"div",16),s()()()()),t&2&&(a(10),f("ngForOf",i.weekDays),a(9),f("ngForOf",i.timeSlots),a(2),f("ngForOf",i.venues))},dependencies:[k,P,R,N],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;overflow:hidden}.event-timetable-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{padding:1.5rem 2rem;background-color:#fff;border-bottom:2px solid #e0e0e0}.title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#333}.week-tabs[_ngcontent-%COMP%]{display:flex;align-items:stretch;background-color:#fff;border-bottom:2px solid #e0e0e0;height:80px}.nav-arrow[_ngcontent-%COMP%]{width:50px;background-color:#424242;color:#fff;border:none;cursor:pointer;font-size:1.2rem;transition:background-color .3s}.nav-arrow[_ngcontent-%COMP%]:hover{background-color:#616161}.tabs-container[_ngcontent-%COMP%]{flex:1;overflow-x:auto}.tabs-scroll[_ngcontent-%COMP%]{display:flex;min-width:max-content}.tab[_ngcontent-%COMP%]{min-width:180px;padding:1rem 1.5rem;cursor:pointer;border-right:1px solid #e0e0e0;transition:background-color .3s;text-align:center}.tab[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.tab.active[_ngcontent-%COMP%]{background-color:#e3f2fd;border-bottom:3px solid #2196f3}.tab-day[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.tab-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.venue-section[_ngcontent-%COMP%]{padding:1rem 2rem;background-color:#fff;border-bottom:1px solid #e0e0e0}.venue-header[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.75rem}.venue-list[_ngcontent-%COMP%]{display:flex;gap:1rem}.venue-item[_ngcontent-%COMP%]{padding:.5rem 1.5rem;border-radius:4px;color:#fff;font-weight:500;background-color:#9e9e9e}.timetable-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background-color:#fff}.scroll-indicator[_ngcontent-%COMP%]{position:absolute;z-index:10;color:#666;display:flex;align-items:center;gap:.25rem;font-size:.75rem;pointer-events:none}.scroll-indicator.left[_ngcontent-%COMP%]{left:90px;top:50%;transform:translateY(-50%);flex-direction:column}.scroll-indicator.right[_ngcontent-%COMP%]{right:20px;top:50%;transform:translateY(-50%);flex-direction:column}.scroll-indicator.vertical[_ngcontent-%COMP%]{right:10px;top:50%;transform:translateY(-50%);flex-direction:column;gap:.5rem}.scroll-label[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed;font-size:.7rem}.timetable-container[_ngcontent-%COMP%]{display:flex;height:100%;overflow-x:auto;overflow-y:hidden}.timetable-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.timetable-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bdbdbd;border-radius:6px}.time-column[_ngcontent-%COMP%]{position:sticky;left:0;z-index:5;background-color:#fff;border-right:2px solid #e0e0e0;min-width:80px}.time-header[_ngcontent-%COMP%]{height:60px;background-color:#f5f5f5;border-bottom:2px solid #e0e0e0}.time-slots[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100% - 60px)}.time-slot[_ngcontent-%COMP%]{height:60px;border-bottom:1px solid #e0e0e0;padding:.25rem .5rem}.time-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.venues-grid[_ngcontent-%COMP%]{display:flex;flex:1}.venue-column[_ngcontent-%COMP%]{min-width:200px;width:200px;border-right:1px solid #e0e0e0}.venue-header-cell[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;border-bottom:2px solid #e0e0e0;background-color:#9e9e9e}.event-area[_ngcontent-%COMP%]{position:relative;overflow-y:auto;height:calc(100% - 60px)}.event-area[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.event-area[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bdbdbd;border-radius:4px}.grid-lines[_ngcontent-%COMP%]{position:relative}.grid-line[_ngcontent-%COMP%]{height:60px;border-bottom:1px solid #e0e0e0;background-color:#fafafa}.events-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;padding:0 .5rem}.event-card[_ngcontent-%COMP%]{position:absolute;left:.5rem;right:.5rem;background-color:#757575;color:#fff;border-radius:4px;padding:.5rem;box-shadow:0 2px 4px #0003}.event-time[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;margin-bottom:.25rem}.event-title[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}"]})}return n})();export{Te as EventTimeTable};
